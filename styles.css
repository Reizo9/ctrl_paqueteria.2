/* styles.css final */
:root{
  --navy:#0b2545;
  --blue-700:#113a66;
  --blue-500:#2b6cb0;
  --blue-300:#7fb0e7;
  --accent-red:#d9534f;
  
  /* --- INICIO NUEVA PALETA LOGIN --- */
  --login-bg: #0b2545; /* Azul marino oscuro para fondo */
  --login-panel-bg: #113a66; /* Azul más claro para panel info */
  --login-accent: #7fb0e7; /* Acento celeste para bordes y brillos */
  --login-text: #ffffff; /* Texto blanco */
  --login-muted: #e2e8f0; /* Texto/bordes atenuados */
  /* --- FIN NUEVA PALETA LOGIN --- */

  --rojo-fondo: #fef2f2;
  --rojo-borde: #b91c1c;
  --verde-fondo: #f0fdf4;
  --verde-borde: #15803d;
  
  --pink:#ffb6c1;
  --surface:#f6f9fc;
  --muted:#6b7280;
  --card-radius:12px;
  --gap:12px;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;
}

*{box-sizing:border-box}
html{
  min-height: 100%; 
}
body{
  margin:0;
  background:linear-gradient(180deg,var(--surface),#fff);
  color:#05203b;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  padding-bottom:84px; /* space for bottom nav */
  min-height: 100vh; 
}
/* Asegurar que el body de login no tenga padding extra abajo si no es necesario */
.page-login {
  padding-bottom: 0;
}


/* --- ESTILO LOGIN CENTRADO --- */
.page-login .brand {
  text-align: center; /* Centrar texto del header */
  margin-bottom: 20px;
}
.page-login .brand h1 {
  color: var(--navy);
}
.page-login .brand .subtitle {
  color: var(--muted);
}
/* Ocultar span de field en login */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}
/* --- FIN ESTILO LOGIN CENTRADO --- */


/* header */
.app-header{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:linear-gradient(90deg,var(--navy),var(--blue-700));color:white}
.brand-mini h1{margin:0;font-size:18px}
.brand-mini .muted{font-size:13px;color:rgba(255,255,255,0.95)}

/* main container */
.container{max-width:920px;margin:0 auto;padding:12px}
.page-login .container {
  padding-bottom: 0; /* No necesita padding de container normal */
}

/* cards / screens */
.card{background:white;border-radius:var(--card-radius);padding:14px;box-shadow:0 6px 18px rgba(11,37,69,0.06);margin-bottom:var(--gap)}
/* .screen.hidden{display:none} -> Ya no se usa .hidden para pantallas */


/* --- INICIO ANIMACIÓN DESLIZAMIENTO SCREENS --- */
.app-main {
  overflow: hidden; /* Oculta las pantallas fuera de vista */
  /* Quitar padding lateral para que el wrapper ocupe todo */
  padding: 12px 0; 
}

.screens-wrapper {
  display: flex;
  width: 300%; /* 100% por cada una de las 3 pantallas */
  transition: transform 0.4s ease-in-out;
}

.screen {
  /* --- CORRECCIÓN DEL BUG --- */
  width: 33.3333%; /* Cada pantalla ocupa 1/3 del wrapper */
  /* width: 100%; */ /* <-- ESTE ERA EL ERROR */
  flex-shrink: 0;
  /* Añadir padding que quitamos del .app-main */
  padding-left: 12px;
  padding-right: 12px;
}

/* Controlar la posición del wrapper */
/* Mueve el wrapper 0%, 33.33% o 66.66% de su *propio* ancho */
.app-main.show-paqueteria .screens-wrapper {
  transform: translateX(0);
}
.app-main.show-directorio .screens-wrapper {
  transform: translateX(-33.3333%);
}
.app-main.show-historial .screens-wrapper {
  transform: translateX(-66.6666%);
}
/* --- FIN ANIMACIÓN DESLIZAMIENTO SCREENS --- */


.field{display:block;margin-bottom:10px}
.field span{display:block;font-size:13px;color:var(--muted);margin-bottom:6px}
input,textarea,select{
  width:100%;
  padding:10px 12px;
  border-radius:8px;
  border:1px solid #e2e8f0;
  font-size:15px;
  outline:none;
}
textarea{resize:vertical}
.row{
  display:flex;
  gap:8px;
  margin-top:8px;
  flex-wrap: wrap; /* Para que los botones se apilen si no caben */
}
.btn{
  padding:10px 12px;
  border-radius:10px;
  border:0;
  background:transparent;
  font-weight:600;
  cursor: pointer;
}
.btn.full{flex:1 1 100%;} /* Asegura que .full ocupe todo el ancho al apilarse */
.btn.primary{background:var(--blue-500);color:white}
.btn.ghost{border:1px solid rgba(5,32,59,0.06);background:#fff; box-shadow: 0 1px 2px rgba(0,0,0,0.05);}
.muted{color:var(--muted);font-size:13px}

.btn:disabled {
  background: #f1f5f9; /* Color grisáceo */
  color: #94a3b8; /* Color de texto apagado */
  cursor: not-allowed;
  border-color: #e2e8f0;
}

/* suggestions */
.suggestions{position:relative;margin-top:6px}
.suggestions ul{list-style:none;padding:6px;margin:0;border-radius:8px;background:#fff;border:1px solid #e6eefb;max-height:160px;overflow:auto}
.suggestions li{padding:8px;border-bottom:1px dashed #f1f5f9;cursor:pointer}
.suggestions li:hover{background:#f1f8ff}

/* preview images */
.preview img{width:120px;height:120px;object-fit:cover;border-radius:8px;margin-top:8px;display:block;}

/* thumbnails in historial */
.thumb{width:120px;height:120px;object-fit:cover;border-radius:8px;margin-left:0; /* Quitado margin-left para usar gap en el contenedor */}
.thumb-firma{
  background-color:#fff; 
  border: 1px solid #e2e8f0; /* Borde suave para ver el recuadro */
  object-fit: contain; /* Para que la firma no se corte */
  padding: 4px; /* Pequeño espacio interno */
}
.thumb-miniatura {
  width: 40px; /* Tamaño más pequeño para el modal */
  height: 40px;
  object-fit: cover;
  border-radius: 4px;
  cursor: pointer;
  border: 1px solid #e2e8f0; /* Un borde sutil */
}

/* modal viewer */
#imageViewer{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(3,6,23,0.75);padding:16px;z-index:60}
.viewer-content{position:relative;max-width:920px;width:100%;display:flex;align-items:center;justify-content:center}
.viewer-content img{max-width:92%;max-height:80vh;border-radius:10px;box-shadow:0 8px 30px rgba(2,6,23,0.4)}
#imageViewer.hidden{display:none}

/* modal signature */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(3,6,23,0.35);padding:16px;z-index:50}
.modal .modal-content{background:white;padding:12px;border-radius:10px;max-width:420px;width:100%}
.modal.hidden{display:none}

.modal.modal-scrollable {
  align-items: flex-start;
  padding-top: 20px;
  padding-bottom: 20px;
}
.modal.modal-scrollable .modal-content {
  max-height: calc(100vh - 40px); /* Altura de la pantalla menos el padding */
  overflow-y: auto;
  /* Aumentar max-width para aviso de privacidad */
  max-width: 600px; 
}


#confirmEntregarMsg {
  margin-bottom: 16px;
  font-size: 15px;
  line-height: 1.5;
  color: #333;
}

/* --- ESTILOS MODAL VARIOS --- */
#domicilioVariosTxt {
  color: var(--navy);
  font-weight: 600;
  display: block;
  margin-bottom: 8px;
}
#listaPaquetesVarios {
  max-height: 150px;
  overflow-y: auto;
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  padding: 8px;
  margin-top: 8px;
  margin-bottom: 8px;
}
#listaPaquetesVarios ul {
  list-style: none;
  padding: 0;
  margin: 0;
}
#listaPaquetesVarios li {
  font-size: 14px;
  padding: 8px 4px; 
  border-bottom: 1px dashed #f1f5f9;
  line-height: 1.4; 
}
#listaPaquetesVarios li:last-child {
  border-bottom: none;
}
#listaPaquetesVarios li .info-paquete {
  font-size: 12px;
  color: var(--muted); 
  margin-top: 2px;
}

/* signature canvas styling */
#firmaCanvas{display:block;border:2px dashed #cfe6ff;border-radius:8px;margin:10px auto 6px;touch-action:none;max-width:100%}

/* bottom nav */
.bottom-nav{position:fixed;left:0;right:0;bottom:0;height:64px;background:white;border-top:1px solid #e6eefb;display:flex;justify-content:space-around;align-items:center;z-index:70}
.nav-btn{background:transparent;border:0;padding:8px 12px;font-weight:700}
.nav-btn.active{color:var(--blue-700)}

/* table */
.table{max-height:420px;overflow:auto;margin-top:8px}
.table .row{display:flex;align-items:center;justify-content:space-between;padding:8px;border-bottom:1px solid #f1f5f9;font-size:14px;
  border-left: 4px solid transparent; /* Borde base */
  transition: background-color 0.3s ease;
  flex-wrap: wrap; /* Para que las miniaturas se apilen si no caben */
}
.table .info{flex:1; min-width: 150px;} /* Asegura un ancho mínimo para la info */

/* INICIO MODIFICACIÓN: Estilo para tel en tabla directorio */
.table .info .telefono {
  font-size: 13px;
  color: var(--blue-700);
  font-weight: 500;
  margin-top: 4px;
}
/* FIN MODIFICACIÓN */


.table .row.estado-en_caseta {
  background-color: var(--rojo-fondo);
  border-left-color: var(--rojo-borde);
}
.table .row.estado-entregado {
  background-color: var(--verde-fondo);
  border-left-color: var(--verde-borde);
}


/* ****** INICIO NUEVOS ESTILOS DE FILTRO ****** */
.filters {
  display: flex;
  flex-wrap: wrap; /* Permitir que los filtros pasen a la siguiente línea si no caben */
  gap: 10px;
  margin-bottom: 12px;
}

/* Ocupar todo el ancho en los filtros principales */
.filters #buscarHist,
.filters #filtroEstado {
  width: 100%;
}

.filter-date-range {
  display: flex;
  align-items: center;
  justify-content: space-between; /* Distribuir espacio */
  width: 100%;
  gap: 8px;
}

.date-range-separator {
  font-size: 14px;
  color: var(--muted);
  font-weight: 500;
}

.date-picker-btn {
  /* Apariencia de input/botón */
  flex: 1; /* Ocupar espacio disponible */
  display: block;
  padding: 10px 12px;
  border-radius: 8px;
  border: 1px solid #e2e8f0;
  background: #fff; /* Fondo blanco como los inputs */
  font-size: 14px; /* Un poco más pequeño para que quepa */
  font-weight: 500;
  text-align: center;
  cursor: pointer;
  position: relative; /* Para ocultar el input real */
  color: #333; /* Color de texto normal */
}

.date-picker-btn:hover {
  background: #f8fafc;
}

/* Ocultar el input de fecha real */
.date-picker-btn input[type="date"] {
  position: absolute;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  opacity: 0; /* Lo hace invisible */
  cursor: pointer;
}

/* Estilo para el span que muestra la fecha */
.date-picker-btn span {
  pointer-events: none; /* Asegura que el clic llegue al input */
}

/* Cuando una fecha es seleccionada, el span se ve diferente */
.date-picker-btn.has-value span {
  color: var(--blue-700);
  font-weight: 600;
}
/* ****** FIN NUEVOS ESTILOS DE FILTRO ****** */


#statusMsg {
  /* margin-top: 10px; */ /* Quitado para moverlo fuera del card */
  padding: 12px;
  border-radius: 8px;
  display: none; /* Oculto por defecto */
  font-size: 14px;
  font-weight: 500;
  transition: all 0.3s ease;
}
#statusMsg.show {
  display: block; /* Se muestra con la clase 'show' */
}
#statusMsg.success {
  background: #f0fdf4; /* Verde claro */
  color: #15803d; /* Verde oscuro */
}
#statusMsg.error {
  background: #fef2f2; /* Rojo claro */
  color: #b91c1c; /* Rojo oscuro */
  font-weight: 600;
}

/* small adjustments */
.file-btn input[type="file"]{display:none} /* Oculta el input de archivo */
.hidden{display:none}


/* --- INICIO ESTILOS LOGIN/REGISTER ANIMADO (Paleta Azul) --- */

/* Fondo de la página de login */
.page-login {
  background: var(--surface);
}

/* Contenedor principal de la animación, basado en tu solicitud */
.page-login .wrapper {
  position: relative;
  /* Ancho más pequeño para un solo formulario a la vez */
  width: 400px; 
  max-width: 100%; /* Para que no se desborde en móviles */
  height: 480px; /* Alto fijo como pidió el usuario */
  background: var(--login-bg); /* Fondo marino oscuro */
  border: 2px solid var(--login-accent); /* Borde celeste */
  overflow: hidden; /* Clave para la animación */
  box-shadow: 0 0 25px var(--login-accent); /* Brillo celeste */
  margin: 20px auto; /* Centrar el wrapper */
  border-radius: var(--card-radius);
  color: var(--login-text); /* Texto blanco por defecto */
}

/* Estilo base para ambos formularios (Login y Register) */
.wrapper .form-box {
  position: absolute; /* Posicionados para deslizarse */
  top: 0;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding: 40px;
  transition: transform 0.6s ease-in-out, opacity 0.5s ease;
  backface-visibility: hidden; /* Evitar parpadeos */
}
.wrapper .form-box h3 {
  margin-top: 0;
  margin-bottom: 24px;
  color: var(--login-text);
  text-align: center;
  font-weight: 600;
}

/* --- ESTILOS DE FORMULARIO (Inputs) --- */
.wrapper .form-box .field {
  margin-bottom: 20px;
  position: relative;
}

/* Inputs estilo "línea inferior" */
.wrapper .form-box input {
  background: transparent;
  border: none;
  border-bottom: 2px solid var(--login-muted);
  color: var(--login-text); /* Texto blanco al escribir */
  border-radius: 0; /* Quitar bordes redondeados */
  padding: 10px 4px; /* Ajustar padding */
  font-size: 16px;
  width: 100%; /* Asegurar ancho completo */
}
.wrapper .form-box input::placeholder {
  color: var(--login-muted);
  opacity: 0.7;
}
.wrapper .form-box input:focus {
  outline: none;
  border-bottom-color: var(--login-accent); /* Color al enfocar */
}

/* --- Centrar fila de botón --- */
.wrapper .form-box .row {
  justify-content: center; /* Centrar el botón */
  margin-top: 10px;
}

/* --- BOTÓN PRIMARIO (Redondeado y centrado) --- */
.wrapper .btn.primary {
  background: linear-gradient(90deg, var(--blue-500), var(--login-accent));
  border-radius: 25px; /* Botón redondeado */
  border: none;
  box-shadow: 0 0 10px rgba(127, 176, 231, 0.5); /* Brillo sutil */
  font-weight: 600;
  padding: 12px; /* Más padding */
  transition: all 0.3s ease;
  min-width: 180px; /* Ancho mínimo como en la imagen */
  flex: none; /* Quitar .full behavior */
  width: auto;
}
.wrapper .btn.primary:hover {
  opacity: 0.9;
  box-shadow: 0 0 15px rgba(127, 176, 231, 0.8);
}

/* --- LINKS (Registrarse / Acceder) --- */
.wrapper .form-box .login-register-link {
  font-size: 14px;
  color: var(--login-muted);
  text-align: center;
  margin-top: 20px;
}
.wrapper .form-box .login-register-link p {
  margin: 0;
}
.wrapper .form-box .login-register-link .btn-link {
  background: none;
  border: none;
  color: var(--login-accent); /* Color acento */
  font-weight: 600;
  cursor: pointer;
  padding: 0 4px;
  font-size: 14px;
}
.wrapper .form-box .login-register-link .btn-link:hover {
  text-decoration: underline;
}


/* --- LÓGICA DE ANIMACIÓN (Actualizada) --- */

/* Estado inicial: LOGIN (visible) */
.wrapper .form-box.login {
  transform: translateX(0);
  opacity: 1;
}

/* Estado inicial: REGISTER (oculto a la derecha) */
.wrapper .form-box.register {
  transform: translateX(100%);
  opacity: 0;
}

/* --- ESTADO ACTIVO (Mostrando Register) --- */

/* El JS añade .active a main.container */
.container.active .wrapper .form-box.login {
  /* Mover login a la izquierda y ocultar */
  transform: translateX(-100%);
  opacity: 0;
  transition-delay: 0s;
}

.container.active .wrapper .form-box.register {
  /* Mover register al centro */
  transform: translateX(0);
  opacity: 1;
  transition-delay: 0.1s;
}

/* --- INICIO ESTILOS MÓVILES LOGIN --- */
@media (max-width: 480px) {
  .page-login .brand {
     padding-top: 10px; /* Más espacio arriba en móvil */
  }

  .page-login .wrapper {
    /* El wrapper ya es 400px max-width, así que se adapta bien */
    margin: 10px auto;
    border-width: 1px;
    box-shadow: 0 0 15px rgba(127, 176, 231, 0.4);
    height: auto; /* Altura automática en móvil */
    min-height: 480px;
  }
  
  .wrapper .form-box {
    padding: 30px 25px; /* Menos padding en móvil */
  }
  
  .wrapper .btn.primary {
     min-width: 150px; /* Botón un poco más pequeño en móvil */
  }
}
/* --- FIN ESTILOS MÓVILES LOGIN --- */

/* --- FIN ESTILOS LOGIN/REGISTER REDISEÑADO --- */


/* --- INICIO ESTILOS FOOTER Y PRIVACIDAD --- */
.foot-legal {
  text-align: center;
  padding: 25px 15px; /* Más padding superior */
  font-size: 12px;
  line-height: 1.6;
  color: var(--muted);
  width: 100%;
}
.foot-legal .btn-link {
  background: none;
  border: none;
  color: var(--blue-500); /* Azul estándar de la app */
  font-weight: 600;
  cursor: pointer;
  font-size: 12px;
  text-decoration: underline;
}
.foot-legal .btn-link:hover {
  color: var(--navy);
}

/* Asegurar que el modal de privacidad se vea bien en la pág de login */
.page-login .modal .modal-content {
  color: #05203b; /* Texto oscuro normal, no blanco */
  text-align: left;
}
.page-login .modal .modal-content h3 {
  color: #05203b;
  text-align: left;
  margin-top: 0;
}
.page-login .modal .modal-content ul {
  padding-left: 20px;
}
.page-login .modal .modal-content li {
  margin-bottom: 8px;
}
/* --- FIN ESTILOS FOOTER Y PRIVACIDAD --- */


